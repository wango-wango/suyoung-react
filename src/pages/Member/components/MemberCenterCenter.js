import React, { useContext, useEffect } from "react";
import MemberCenter from "./MemberCenter";
import "../styles/member-center-01.scss";
import Tilty from "react-tilty";
// import AuthContext from "../../Login/sub-pages/AuthContext";
// import Lottie from "lottie-web";

import { motion } from "framer-motion";
import { useAuth } from "../../Login/sub-pages/AuthProvider";

import { Swiper, SwiperSlide } from "swiper/react";
import { Pagination, Autoplay } from "swiper";
import WheaterCard from "./WheaterCard";
import { Link } from "react-router-dom";

import "swiper/css";
import "swiper/css/pagination";

// import { Link } from "react-router-dom";

const MemberCenterCenter = () => {
    const { setAuth, ...auth } = useAuth();

    const level = [
        ["初級凹鬥玩家", "野外凹鬥玩家", "凹鬥大師"],
        [
            "Beginning outdoor player",
            "Medium outdoor player",
            "Advanced outdoor player",
        ],
        [9, 8, 7],
    ];

    let memberLevel = "";
    let memberLevelEng = "";
    let discount = "";
    let nextDiscount = "";
    let count = 0;
    let nextLevel = "";

    if (auth.m_score < 5000) {
        count = 0;
    } else if (auth.m_score > 5000 && auth.m_score < 15000) {
        count = 1;
    } else {
        count = 2;
    }

    memberLevel = level[0][count];
    memberLevelEng = level[1][count];
    discount = level[2][count];
    if (count < 2) {
        nextDiscount = level[2][count + 1];
        nextLevel = level[0][count + 1];
    } else {
        nextDiscount = level[2][count];
        nextLevel = level[0][count];
    }

    return (
        <>
            <motion.div
                initial={{ opacity: 0, y: 100 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.5 }}
                className="member-body"
            >
                <div className="cover-image-container">
                    <div className="cover-image">
                        <span>welcome to shuyoung</span>
                    </div>
                </div>
                <div className="member-container">
                    <Tilty
                        className="member-card"
                        glare
                        scale={1.05}
                        maxGlare={0.5}
                    >
                        <div className="member-card-left">
                            {auth.m_avatar === null ? (
                                <>
                                    <img
                                        src="/member_img/kindpng_1300217.png"
                                        className="avatar"
                                        alt=""
                                        style={{
                                            opacity: "0.6",
                                            filter: "invert(1)",
                                        }}
                                    />
                                </>
                            ) : (
                                <>
                                    <img
                                        className="avatar"
                                        src={auth.m_avatar}
                                        alt=""
                                    />
                                </>
                            )}

                            <img
                                className="logo"
                                src="/member_img/member-logo.svg"
                                alt=""
                            />
                        </div>
                        <div className="member-card-right">
                            <div className="member-name">
                                {auth.m_last_name} {auth.m_first_name}
                            </div>
                            <div className="member-title-container">
                                <div className="title-icon">
                                    <svg
                                        width="72"
                                        height="74"
                                        viewBox="0 0 72 74"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path
                                            d="M23.1169 26.2416C27.6607 29.2351 32.1833 32.215 36.7059 35.1949C36.728 35.1718 36.75 35.1477 36.7721 35.1246C36.5652 34.7427 36.3593 34.36 36.1502 33.9794C34.8239 31.5631 33.4921 29.1494 32.171 26.7309C31.3951 25.3103 30.6191 23.8888 29.877 22.4516C29.6305 21.9741 29.4851 21.4465 29.3011 20.939C29.2648 20.8384 29.2651 20.725 29.2305 20.5031C29.7021 20.6911 30.1191 20.814 30.4962 21.0157C31.4702 21.5363 32.2321 22.313 32.9457 23.1476C34.1879 24.5994 35.0544 26.2746 35.9487 27.9354C36.8476 29.6039 37.756 31.2681 38.6624 32.9331C38.694 32.9913 38.7481 33.038 38.8342 33.1397C38.8401 32.9946 38.8485 32.9093 38.8456 32.8245C38.7295 29.4241 38.6096 26.0235 38.4987 22.6237C38.4713 21.7865 38.4692 20.9493 38.4643 20.1129C38.4592 19.2032 38.7946 18.4129 39.2692 17.6797C39.5313 17.2755 39.8226 16.8912 40.1542 16.4219C40.6969 16.9851 41.1863 17.5073 41.6913 18.0144C43.0847 19.4147 43.472 21.157 43.5375 22.9956C43.6514 26.2041 43.739 29.4125 43.8374 32.6208C43.8581 33.3055 43.8769 33.99 43.8982 34.7484C43.9996 34.6611 44.0569 34.621 44.1043 34.5706C44.5378 34.1105 44.954 33.6332 45.4069 33.1931C45.8204 32.791 46.3417 32.5948 46.9382 32.6691C47.0707 32.6855 47.1922 32.8247 47.3192 32.9077C47.2427 33.0077 47.1865 33.141 47.086 33.202C46.67 33.454 46.3001 33.7379 46.1668 34.2392C46.035 34.7364 46.2081 35.2092 46.6169 35.4662C46.9753 35.6917 47.4329 35.6303 47.7999 35.2852C48.5199 34.6076 49.2318 33.9226 49.9447 33.2376C50.1855 33.0057 50.1821 32.9232 49.9336 32.6616C49.4874 32.191 49.0394 31.7231 48.5918 31.2539C48.5156 31.1738 48.4384 31.0947 48.3353 30.9877C48.8691 30.5977 49.421 30.3477 50.027 30.2131C50.883 30.0232 51.7332 30.0829 52.5336 30.5051C52.8407 30.6669 53.1024 30.9329 53.3574 31.1798C53.4247 31.2449 53.4235 31.4269 53.3945 31.5377C53.1711 32.3859 52.744 33.1261 52.1273 33.725C50.2848 35.5162 48.4188 37.2839 46.5607 39.0599C46.5274 39.092 46.4861 39.1149 46.4593 39.134C46.2228 38.6913 46.0215 38.2447 45.7597 37.8349C44.2111 35.4076 40.8481 34.6156 38.5207 36.1271C38.2239 36.3197 37.9423 36.543 37.6856 36.7857C36.7023 37.717 35.7318 38.6615 34.757 39.6015C34.46 39.8887 34.0349 40.0392 33.8512 40.4535C33.8395 40.4808 33.6468 40.4715 33.5936 40.421C33.4247 40.2616 33.2811 40.0741 33.0961 39.8614C32.8925 40.1169 32.7129 40.3418 32.5135 40.5914C32.2829 40.352 32.0753 40.1366 31.8419 39.8944C31.6965 40.0816 31.551 40.2311 31.4502 40.4074C31.3194 40.636 31.2118 40.591 31.0733 40.4107C30.9862 40.2968 30.8804 40.1963 30.7923 40.0824C30.6723 39.9277 30.5708 39.9266 30.4615 40.0809C30.3325 40.2636 30.196 40.4403 30.052 40.6337C29.8939 40.4695 29.756 40.3349 29.628 40.1917C29.362 39.895 29.362 39.8941 29.1346 40.2168C29.0347 40.3592 28.9291 40.4976 28.7983 40.6755C28.633 40.4834 28.5017 40.3311 28.3704 40.1779C28.1369 39.9065 28.1336 39.9096 27.9446 40.185C27.8344 40.3449 27.7096 40.4943 27.5703 40.6766C27.3326 40.4299 27.1242 40.2135 26.8912 39.9717C26.697 40.2191 26.5239 40.4405 26.3189 40.7011C26.1452 40.503 25.9842 40.335 25.8425 40.1532C25.7178 39.9927 25.6247 39.9995 25.5164 40.1528C25.387 40.3359 25.2476 40.5116 25.0985 40.709C24.8646 40.4663 24.6551 40.2489 24.4184 40.0032C24.2294 40.2475 24.0516 40.4762 23.8442 40.7448C23.6753 40.5534 23.5223 40.3928 23.3839 40.22C23.2507 40.0536 23.1609 40.0186 23.0225 40.2169C22.6342 40.7719 22.621 40.7704 22.1701 40.2432C22.0204 40.0681 21.9024 40.0151 21.7908 40.2441C21.5561 40.7265 21.1662 40.8403 20.6543 40.7279C20.2787 40.6461 19.8961 40.6031 19.5177 40.5344C19.4237 40.5176 19.3338 40.4685 19.1937 40.4161C19.5136 39.9779 19.8665 39.6426 20.2807 39.3745C21.3826 38.6604 22.6417 38.3666 23.9247 38.1251C25.6382 37.8023 27.3879 37.9061 29.1243 37.8636C31.0848 37.8151 33.0472 37.8016 35.0092 37.7724C35.1173 37.771 35.2254 37.7601 35.3771 37.7514C35.321 37.6039 35.3006 37.4634 35.2229 37.3706C35.1561 37.29 35.0032 37.1999 34.9243 37.2232C34.6401 37.3077 34.4971 37.1789 34.4145 36.9345C34.3305 36.6857 34.2143 36.5576 33.9263 36.6494C33.6816 36.7279 33.5807 36.5115 33.5175 36.3303C33.4316 36.0834 33.3239 35.9734 33.0496 36.0691C32.8269 36.147 32.7101 35.9553 32.6492 35.7813C32.5591 35.5225 32.4569 35.3704 32.1488 35.4836C31.9459 35.5576 31.8348 35.3972 31.773 35.2175C31.6857 34.9634 31.5891 34.7758 31.2546 34.9031C31.0654 34.9752 30.9476 34.8014 30.8797 34.6238C30.792 34.3956 30.7123 34.1945 30.384 34.315C30.1519 34.4001 30.0417 34.1757 29.9742 33.9939C29.8851 33.7539 29.7754 33.642 29.5016 33.7306C29.2606 33.8083 29.1541 33.5954 29.0895 33.4128C29.0036 33.1706 28.9019 33.0528 28.6238 33.1465C28.4153 33.2165 28.2854 33.0591 28.2193 32.8656C28.1353 32.6197 28.0397 32.4416 27.7208 32.5661C27.5282 32.6414 27.41 32.484 27.3411 32.3017C27.2515 32.0631 27.1657 31.8463 26.8214 31.9736C26.7448 32.0021 26.5265 31.8235 26.4592 31.6972C26.339 31.4692 26.2612 31.2889 25.9451 31.3919C25.7079 31.4697 25.607 31.2523 25.5405 31.0677C25.4594 30.8436 25.3633 30.7195 25.0951 30.8074C24.8635 30.8836 24.7369 30.7023 24.6694 30.5092C24.5831 30.2618 24.4786 30.1289 24.184 30.2262C23.9492 30.3037 23.838 30.0981 23.7733 29.9089C23.6927 29.6739 23.598 29.5334 23.3134 29.6362C23.2288 29.6668 23.0045 29.574 22.9866 29.5056C22.8741 29.0751 22.4604 28.9303 22.2114 28.6343C22.1652 28.5798 22.0999 28.5401 22.0575 28.483C21.9897 28.391 21.8631 28.2324 21.8865 28.2022C21.9719 28.0936 22.1038 27.9637 22.2278 27.9591C22.4285 27.9504 22.6457 28.0096 22.8394 28.0848C23.0754 28.1767 23.2895 28.3293 23.5227 28.4305C23.7225 28.5177 23.9444 28.5752 24.095 28.3576C24.2488 28.135 24.1212 27.9565 23.9471 27.8049C23.6996 27.5894 23.4315 27.3956 23.1967 27.1669C22.9125 26.886 22.8933 26.5946 23.1169 26.2416Z"
                                            fill="white"
                                        />
                                        <path
                                            d="M37.9458 49.9835C35.7694 52.0804 33.5953 54.1797 31.4157 56.2732C29.9795 57.6522 28.0721 57.9678 26.2483 57.1422C23.7273 56.0003 22.7199 52.7768 24.1815 50.49C24.3928 50.1602 24.6455 49.847 24.9265 49.5754C29.2657 45.3817 33.611 41.1952 37.9586 37.0102C39.8221 35.2157 42.5095 35.1981 44.438 37.0205C46.0239 38.5192 46.3747 40.8893 45.2327 42.7512C44.9982 43.1331 44.6865 43.4779 44.3638 43.7917C42.2314 45.8628 40.0865 47.921 37.9458 49.9835ZM27.1683 52.2252C26.7016 52.6777 26.6981 53.4212 27.1608 53.8921C27.6295 54.3692 28.382 54.3983 28.8319 53.9556C29.2986 53.4966 29.3033 52.7194 28.8415 52.2552C28.3797 51.7899 27.6313 51.7764 27.1683 52.2252Z"
                                            fill="white"
                                        />
                                        <path
                                            d="M35.9062 72C54.6322 72 69.8125 56.33 69.8125 37C69.8125 17.67 54.6322 2 35.9062 2C17.1803 2 2 17.67 2 37C2 56.33 17.1803 72 35.9062 72Z"
                                            stroke="white"
                                            strokeWidth="3"
                                            strokeMiterlimit="10"
                                        />
                                    </svg>
                                </div>
                                <div className="m-title">
                                    <div>{memberLevel}</div>
                                    <div>{memberLevelEng}</div>
                                </div>
                            </div>
                            <div className="register-date">
                                註冊日期：{auth.create_at}
                            </div>
                        </div>
                    </Tilty>
                    <WheaterCard />
                </div>
                <div className="activity-recom">您可能會喜歡的活動：</div>
                <div className="slider-container">
                    <Swiper
                        modules={[Pagination, Autoplay]}
                        spaceBetween={30}
                        slidesPerView={3}
                        loop={true}
                        autoplay={true}
                        pagination={{
                            el: ".swiper-pagination",
                            clickable: true,
                        }}
                        className="mySwiper"
                    >
                        <SwiperSlide>
                            <img src="/act_imgs/atv01.jpg"></img>
                            <div className="act-swiper-text">
                                <div className="act-title-atv">
                                    ATV 全地形沙灘車
                                </div>
                                <div>
                                    前進溪谷廣闊山景，享受穿越在不同地形上的樂趣！
                                    徜徉南澳溪谷、沙灘奔馳、叢林穿越、網美拍照。親子情侶或是
                                    三五好友都能雙載輕鬆玩，兩人即可出發！
                                </div>
                                <Link
                                    className="link-to-act"
                                    to="/shuyoung/act/atv"
                                >
                                    點我報名
                                </Link>
                            </div>
                        </SwiperSlide>
                        <SwiperSlide>
                            <img src="/act_imgs/upstream06.jpg"></img>
                            <div className="act-swiper-text">
                                <div className="act-title-atv">
                                    Float 漂流探險
                                </div>
                                <div>
                                    1. 輕鬆自在：
                                    利用溪水漂流的方式，一覽南澳獨特山水景色，並享受沁涼
                                    溪水的小旅行。 2. 老少咸宜：
                                    在漂流行程中，除可讓小孩子學習獨立自主的行為態度，更
                                    能有效促進親子關係唷！
                                </div>
                                <Link
                                    className="link-to-act"
                                    to="/shuyoung/act/float"
                                >
                                    點我報名
                                </Link>
                            </div>
                        </SwiperSlide>
                        <SwiperSlide>
                            <img src="/act_imgs/night02.jpg"></img>
                            <div className="act-swiper-text">
                                <div className="act-title-atv">
                                    Night 夜遊觀星月
                                </div>
                                <div>
                                    宜蘭五大「夢幻夜景」神級海景視野是許多攝影愛好者的朝聖之地，
                                    從遠處就能看到清晰的龜山島。
                                    這裡白天擁有美翻的碧海藍天風景，入夜轉變為星光熠熠夜景，非常值得一去！
                                </div>
                                <Link
                                    className="link-to-act"
                                    to="/shuyoung/act/night"
                                >
                                    點我報名
                                </Link>
                            </div>
                        </SwiperSlide>
                        <SwiperSlide>
                            <img src="/act_imgs/float03.jpg"></img>
                            <div className="act-swiper-text">
                                <div className="act-title-atv">
                                    Float 漂流探險
                                </div>
                                <div>
                                    1. 輕鬆自在：
                                    利用溪水漂流的方式，一覽南澳獨特山水景色，並享受沁涼
                                    溪水的小旅行。 2. 老少咸宜：
                                    在漂流行程中，除可讓小孩子學習獨立自主的行為態度，更
                                    能有效促進親子關係唷！
                                </div>
                                <Link
                                    className="link-to-act"
                                    to="/shuyoung/act/float"
                                >
                                    點我報名
                                </Link>
                            </div>
                        </SwiperSlide>
                        <div className="swiper-pagination"></div>
                    </Swiper>
                </div>
            </motion.div>
        </>
    );
};

export default MemberCenterCenter;
